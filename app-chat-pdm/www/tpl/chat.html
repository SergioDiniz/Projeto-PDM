<ion-view ng-controller="controller-chat">
    {{buscarUsuarioOnline()}}
    <div class=" bar bar-header bar-frosted">
        <h1 class="title">What's Up</h1>
        <button class="button  button-clear icon ion-image" ng-click="enviarMsgFoto()"></button>
      </div>

        <ion-content class="padding has-header" start-y="120">

          <ol class="messages">
            <li ng-repeat="message in mensagens">
            
              <p ng-if="message.autor == usuarioOnline.nome && message.tipo == 'Texto'" class="m-autor">
                <b class="autor">{{message.autor}}</b> <br/>
                {{message.conteudo}}<br/>

                <span class="data"> <i class="icon ion-clock"></i> {{message.date}}</span>
              </p>

              <p ng-if="message.autor == usuarioOnline.nome && message.tipo == 'Foto'" class="m-autor">
                
                <b class="autor">{{message.autor}}</b> <br/>
                <img  ng-src="data:image/jpeg;base64, {{message.conteudo}}">
                <br/>

                <span class="data"> <i class="icon ion-clock"></i> {{message.date}}</span>
              </p>
              
              <p ng-if="message.autor != usuarioOnline.nome && message.tipo == 'Texto'">
                <b class="autor">{{message.autor}}</b> <br/>
                {{message.conteudo}} <br/>

                <span class="data"> <i class="icon ion-clock"></i> {{message.date}}</span>
              </p>

              <p ng-if="message.autor != usuarioOnline.nome && message.tipo == 'Foto'">
                
                <b class="autor">{{message.autor}}</b> <br/>
                <img  ng-src="data:image/jpeg;base64, {{message.conteudo}}">
                <br/>

                <span class="data"> <i class="icon ion-clock"></i> {{message.date}}</span>
              </p>
            </li>
          </ol>

          </ion-content>

          <ion-footer-bar class="bar-frosted">
            <div class="bar bar-header item-input-inset" >
              <label class="item-input-wrapper" style="margin-bottom: 6px;">
                <i class="icon ion-chatbubble-working placeholder-icon"></i>
                <input type="search" placeholder="Nova Mensagem" ng-model="mensagem.conteudo">
              </label>
              <button class="button button-positive button-clear icon ion-ios-paperplane" ng-click="enviarMensagemTexto()" >
              </button>
            </div>
          </ion-footer-bar>
          
    </ion-content>
</ion-view>